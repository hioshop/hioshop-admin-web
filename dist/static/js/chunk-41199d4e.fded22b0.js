(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41199d4e"],{"49e2":function(e,t,i){"use strict";i("e741")},e741:function(e,t,i){},e805:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-page"},[i("div",{staticClass:"content-nav"},[i("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[i("el-breadcrumb-item",[e._v("订单列表")])],1)],1),i("div",{staticClass:"content-main"},[i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"待付款",name:"first"}}),i("el-tab-pane",{attrs:{label:"待发货",name:"second"}}),i("el-tab-pane",{attrs:{label:"待收货",name:"third"}}),i("el-tab-pane",{attrs:{label:"已收货",name:"fourth"}}),i("el-tab-pane",{attrs:{label:"已关闭",name:"fifth"}}),i("el-tab-pane",{attrs:{label:"全部订单",name:"sixth"}})],1),i("div",{staticClass:"filter-box"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.filterForm}},[i("el-form-item",{attrs:{label:"订单号"}},[i("el-input",{staticClass:"filter-input",attrs:{placeholder:"请输入订单号"},model:{value:e.filterForm.order_sn,callback:function(t){e.$set(e.filterForm,"order_sn",t)},expression:"filterForm.order_sn"}})],1),i("el-form-item",{attrs:{label:"收货人"}},[i("el-input",{staticClass:"filter-input",attrs:{placeholder:"请输入收货人"},model:{value:e.filterForm.consignee,callback:function(t){e.$set(e.filterForm,"consignee",t)},expression:"filterForm.consignee"}})],1),i("el-form-item",{attrs:{label:"快递号"}},[i("el-input",{staticClass:"filter-input",attrs:{placeholder:"请输入快递单号"},model:{value:e.filterForm.logistic_code,callback:function(t){e.$set(e.filterForm,"logistic_code",t)},expression:"filterForm.logistic_code"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onSubmitFilter}},[e._v("查询")])],1)],1)],1),i("div",{staticClass:"form-table-box"},[i("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.tableData,(function(t){return i("div",{staticClass:"list-wrap clearfix"},[i("div",{staticClass:"header clearfix"},[i("div",{staticClass:"left"},[t.offline_pay?i("div",{staticClass:"off-text"},[e._v("线下支付订单")]):e._e(),i("div",{staticClass:"status-text"},[e._v(e._s(t.order_status_text))]),i("div",{staticClass:"add-time"},[e._v("下单时间："+e._s(t.add_time))]),0!=t.pay_time?i("div",{staticClass:"pay-time"},[e._v(" 付款时间："+e._s(t.pay_time)+" ")]):e._e(),i("div",{staticClass:"order-id"},[e._v("订单号："+e._s(t.order_sn))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"goods-num"},[e._v("共"+e._s(t.goodsCount)+"件商品")]),t.change_price!=t.actual_price?i("div",{staticClass:"price-change"},[e._v(" 改价前"+e._s(t.change_price)+"元 ")]):e._e(),i("div",{staticClass:"price-wrap"},[e._v(" 当前合计"+e._s(t.actual_price)+"元（含运费"+e._s(t.freight_price)+"元） ")])])]),i("div",{staticClass:"content-wrap clearfix"},[i("div",{staticClass:"left"},e._l(t.goodsList,(function(t){return i("div",{staticClass:"goods-list"},[i("img",{staticClass:"goods-img",attrs:{src:t.list_pic_url}}),i("div",{staticClass:"goods-name"},[e._v(e._s(t.goods_aka))]),i("div",{staticClass:"goods-number"},[i("label",[e._v("数量：")]),e._v(e._s(t.number)+" ")])])})),0),i("div",{staticClass:"user-wrap"},[i("div",{staticClass:"avatar-wrap"},[i("img",{staticClass:"avatar-img",attrs:{src:t.userInfo.avatar}}),i("div",{staticClass:"nickname"},[e._v(e._s(t.userInfo.nickname))])]),i("div",{staticClass:"name"},[e._v("姓名："+e._s(t.userInfo.name))]),i("div",{staticClass:"mobile"},[e._v("手机："+e._s(t.userInfo.mobile))])]),i("div",{staticClass:"main"},[""!=t.expressInfo?i("div",{staticClass:"express-info"},[e._v(" "+e._s(t.expressInfo)+" ")]):e._e(),i("div",{staticClass:"m1"},[i("div",{staticClass:"user-name"},[e._v(e._s(t.consignee))]),i("div",{staticClass:"user-mobile"},[e._v(e._s(t.mobile))])]),i("div",{staticClass:"user-address"},[e._v(" "+e._s(t.full_region)+e._s(t.address)+" ")]),""!=t.postscript?i("div",{staticClass:"user-post"},[e._v(" 留言："+e._s(t.postscript)+" ")]):e._e(),i("el-input",{staticClass:"admin-memo",attrs:{type:"textarea",placeholder:"备注"},on:{blur:function(i){return e.changeMemo(t.id,t.admin_memo)}},model:{value:t.admin_memo,callback:function(i){e.$set(t,"admin_memo",i)},expression:"item.admin_memo"}})],1),i("div",{staticClass:"right"},[1==t.print_status&&300==t.order_status?i("el-button",{staticClass:"d-btn",attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.deliveryConfirm(t.id)}}},[e._v("发货 ")]):e._e(),101==t.order_status?i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.orderEdit(t)}}},[e._v("修改价格 ")]):300==t.order_status||301==t.order_status?i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.orderEdit(t)}}},[e._v("打印快递单 ")]):e._e(),i("el-button",{staticClass:"right-detail",attrs:{type:"text",size:"mini"},on:{click:function(i){return e.viewDetail(t.id)}}},[e._v(" 查看详情 ")])],1)])])})),0)],1),i("div",{staticClass:"page-box"},[i("el-pagination",{attrs:{"current-page":e.page,"page-size":10,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handlePageChange}})],1)],1),i("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("span",[e._v("确定打包备货")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible2},on:{"update:visible":function(t){e.dialogVisible2=t}}},[i("span",[e._v("确定收货？")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible2=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.receiveConfirm}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"打印快递单",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{attrs:{model:e.dform}},[i("div",{staticClass:"dialog-wrap"},[i("div",{staticClass:"list-wrap"},e._l(e.orderInfo.goodsList,(function(t){return i("div",{staticClass:"goods-list"},[i("img",{staticClass:"goods-img",attrs:{src:t.list_pic_url}}),i("div",{staticClass:"goods-name"},[e._v(e._s(t.goods_name))]),i("div",{staticClass:"goods-name"},[e._v(e._s(t.goods_aka))]),i("div",{staticClass:"goods-spec"},[e._v(" "+e._s(t.goods_specifition_name_value)+" ")]),i("div",{staticClass:"goods-number"},[i("label",[e._v("数量：")]),e._v(e._s(t.number)+" ")])])})),0),1==e.dform.method?i("div",{staticClass:"dialog-main"},[i("div",{staticClass:"l"},[i("div",{staticClass:"title"},[e._v("寄件人")]),i("div",{staticClass:"detail"},[i("div",{staticClass:"m1"},[i("div",{staticClass:"user-name"},[i("el-input",{staticClass:"senderInput",attrs:{size:"mini",placeholder:"寄件人姓名"},model:{value:e.sender.name,callback:function(t){e.$set(e.sender,"name",t)},expression:"sender.name"}})],1),i("div",{staticClass:"user-mobile"},[i("el-input",{staticClass:"senderInput",attrs:{size:"mini",placeholder:"寄件人手机"},model:{value:e.sender.mobile,callback:function(t){e.$set(e.sender,"mobile",t)},expression:"sender.mobile"}})],1)]),i("div",{staticClass:"user-address"},[i("el-cascader",{staticStyle:{width:"200px"},attrs:{size:"mini",options:e.options,placeholder:"请选择地区"},model:{value:e.senderOptions,callback:function(t){e.senderOptions=t},expression:"senderOptions"}}),i("el-input",{staticClass:"address-input",attrs:{size:"mini","auto-complete":"off",placeholder:"请输入详细地"},model:{value:e.sender.address,callback:function(t){e.$set(e.sender,"address",t)},expression:"sender.address"}})],1)])])]):e._e(),1==e.dform.method?i("div",{staticClass:"dialog-main"},[i("div",{staticClass:"l"},[i("div",{staticClass:"title"},[e._v("收件人")]),i("div",{staticClass:"detail"},[i("div",{staticClass:"m1"},[i("div",{staticClass:"user-name"},[i("el-input",{staticClass:"senderInput",attrs:{size:"mini",placeholder:"收件人姓名"},model:{value:e.receiver.name,callback:function(t){e.$set(e.receiver,"name",t)},expression:"receiver.name"}})],1),i("div",{staticClass:"user-mobile"},[i("el-input",{staticClass:"senderInput",attrs:{size:"mini",placeholder:"收件人手机"},model:{value:e.receiver.mobile,callback:function(t){e.$set(e.receiver,"mobile",t)},expression:"receiver.mobile"}})],1)]),i("div",{staticClass:"user-address"},[i("el-cascader",{staticStyle:{width:"200px"},attrs:{size:"mini",options:e.options,placeholder:"请选择地区"},model:{value:e.receiveOptions,callback:function(t){e.receiveOptions=t},expression:"receiveOptions"}}),i("el-input",{staticClass:"address-input",attrs:{size:"mini","auto-complete":"off",placeholder:"请输入详细地"},model:{value:e.receiver.address,callback:function(t){e.$set(e.receiver,"address",t)},expression:"receiver.address"}})],1)])])]):e._e(),""!=e.orderInfo.postscript?i("div",{staticClass:"user-post-t"},[e._v(" 买家留言："+e._s(e.orderInfo.postscript)+" ")]):e._e(),""!=e.orderInfo.admin_memo&&null!=e.orderInfo.admin_memo?i("div",{staticClass:"user-admin-t"},[e._v(" 备注："+e._s(e.orderInfo.admin_memo)+" ")]):e._e()]),i("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"类型"}},[i("el-radio-group",{on:{change:function(t){return e.deliveryMethodChange(e.dform.method)}},model:{value:e.dform.method,callback:function(t){e.$set(e.dform,"method",t)},expression:"dform.method"}},[i("el-radio",{attrs:{label:1}},[e._v("快递")]),i("el-radio",{attrs:{label:2}},[e._v("手动输入快递")]),i("el-radio",{attrs:{label:3}},[e._v("自提件")])],1)],1),1==e.dform.method?i("el-form-item",{attrs:{label:"选择快递"}},[i("el-radio-group",{model:{value:e.expressType,callback:function(t){e.expressType=t},expression:"expressType"}},[i("el-radio",{attrs:{label:1}},[e._v("顺丰(保价)")]),i("el-radio",{attrs:{label:2}},[e._v("外省顺丰(不保价)")]),i("el-radio",{attrs:{label:3}},[e._v("江浙沪皖顺丰(特惠)")]),i("el-radio",{attrs:{label:4}},[e._v("圆通")])],1)],1):e._e(),1==e.expressType?i("el-form-item",{attrs:{label:"保价金额及提醒"}},[i("el-input-number",{attrs:{mini:1,max:9999,placeholder:"请输入保价金额"},on:{change:function(t){return e.changeExpressValue(e.orderInfo)},blur:function(t){return e.changeExpressValue(e.orderInfo)}},model:{value:e.orderInfo.express_value,callback:function(t){e.$set(e.orderInfo,"express_value",t)},expression:"orderInfo.express_value"}}),i("el-input",{attrs:{placeholder:"快递单上的提醒"},on:{blur:function(t){return e.changeRemarkInfo(e.orderInfo)}},model:{value:e.orderInfo.remark,callback:function(t){e.$set(e.orderInfo,"remark",t)},expression:"orderInfo.remark"}})],1):e._e(),2==e.expressType?i("el-form-item",{attrs:{label:"快递单上的提醒"}},[i("el-input",{attrs:{placeholder:"快递单上的提醒"},on:{blur:function(t){return e.changeRemarkInfo(e.orderInfo)}},model:{value:e.orderInfo.remark,callback:function(t){e.$set(e.orderInfo,"remark",t)},expression:"orderInfo.remark"}})],1):e._e(),1==e.dform.method?i("el-form-item",{attrs:{label:"要在快递单上打印单发货内容"}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入发货信息"},on:{blur:function(t){return e.changeInfo(e.orderInfo)}},model:{value:e.orderInfo.print_info,callback:function(t){e.$set(e.orderInfo,"print_info",t)},expression:"orderInfo.print_info"}})],1):e._e(),2==e.dform.method?i("el-form-item",{attrs:{label:"快递单号"}},[i("el-input",{model:{value:e.dform.logistic_code,callback:function(t){e.$set(e.dform,"logistic_code",t)},expression:"dform.logistic_code"}})],1):e._e(),2==e.dform.method?i("el-form-item",{attrs:{label:"选择快递"}},[i("el-select",{attrs:{"value-key":"id",placeholder:"请选择快递"},model:{value:e.nowDeliveryId,callback:function(t){e.nowDeliveryId=t},expression:"nowDeliveryId"}},e._l(e.deliveryCom,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e()],1),i("div",{staticClass:"dialog-footer print-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"f-left"},[1==e.dform.method&&300==e.orderInfo.order_status?i("el-checkbox",{model:{value:e.autoGoDelivery,callback:function(t){e.autoGoDelivery=t},expression:"autoGoDelivery"}},[e._v("打印完成后自动发货 ")]):e._e()],1),1!=e.dform.method?i("div",{staticClass:"f-right"},[i("el-button",{staticStyle:{"margin-right":"20px"},on:{click:e.hidePrintDialog}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.deliveryGoGo}},[e._v("发货")])],1):e._e(),1==e.dform.method?i("div",{staticClass:"f-right"},[i("el-button",{staticStyle:{"margin-right":"20px"},on:{click:e.hidePrintDialog}},[e._v("取 消")]),0==e.rePrintStatus?i("div",[e.autoGoDelivery?i("el-button",{attrs:{type:"primary"},on:{click:e.deliveyGoConfirm}},[e._v("打印快递单并发货")]):e._e(),e.autoGoDelivery?e._e():i("el-button",{attrs:{type:"primary"},on:{click:e.deliveyGoConfirm}},[e._v("只打印快递单")])],1):e._e(),1==e.rePrintStatus?i("div",[e.autoGoDelivery?i("el-button",{attrs:{type:"primary"},on:{click:e.directPrintConfirm}},[e._v("打印快递单并发货")]):e._e(),e.autoGoDelivery?e._e():i("el-button",{attrs:{type:"primary"},on:{click:e.directPrintConfirm}},[e._v("只打印快递单")])],1):e._e()],1):e._e()])],1),i("el-dialog",{attrs:{title:"提醒！",visible:e.dialogExpressVisible},on:{"update:visible":function(t){e.dialogExpressVisible=t}}},[i("div",{staticClass:"form-table-box"},[e._v(" 该订单已经生成过一个快递单号，是否用该单号打印？ ")]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"f-right"},[i("el-button",{on:{click:function(t){e.dialogExpressVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.rePrintExpress}},[e._v("重新生成订单号打印")]),i("el-button",{attrs:{type:"success"},on:{click:e.directPrintExpress}},[e._v("直接用该单号打印")])],1)])]),i("el-dialog",{staticClass:"express-dialog",attrs:{title:"快递单预览",visible:e.printMiandan},on:{"update:visible":function(t){e.printMiandan=t}}},[1==e.expressType||2==e.expressType?i("div",{staticStyle:{display:"block",width:"400px",height:"500px",border:"1px solid #333",background:"#fff",overflow:"hidden",margin:"0 auto"},attrs:{id:"sfbj-block"}},[i("div",{staticStyle:{display:"flex",width:"100%","justify-content":"space-between","border-bottom":"1px solid #333"}},[i("div",{staticStyle:{"border-right":"1px solid #333",width:"300px","text-align":"center"}},[i("barcode",{attrs:{value:e.sfHasValue.LogisticCode,height:"40","display-value":"false",tag:"img"}}),i("div",{staticStyle:{width:"100%",margin:"0 auto","text-align":"center","font-size":"12px","padding-bottom":"2px"}},[e._v(" 快递单号:"+e._s(e.sfHasValue.LogisticCode)+" ")])],1),i("div",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[e._v(" "+e._s(e.sfHasValue.remark)+" ")])]),i("div",{staticStyle:{display:"flex","flex-direction":"column",width:"100%","border-bottom":"1px solid #333"}},[i("div",{staticStyle:{"text-align":"center","font-size":"32px","font-weight":"bold"}},[e._v(" "+e._s(e.sfHasValue.DestinatioCode)+" ")])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 收件人 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"12px"}},[e._v(" "+e._s(e.receiverInfo.Name)+" "+e._s(e.receiverInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(e.receiverInfo.ProvinceName+e.receiverInfo.CityName+e.receiverInfo.ExpAreaName+e.receiverInfo.Address)+" ")])])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 寄件人 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"10px"}},[e._v(" "+e._s(e.senderInfo.Name)+" "+e._s(e.senderInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.senderInfo.ProvinceName+e.senderInfo.CityName+e.senderInfo.ExpAreaName+e.senderInfo.Address)+" ")])])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 托寄物 ")]),i("div",{staticStyle:{"font-size":"20px",width:"30%","border-right":"1px solid #333","margin-right":"4px"}},[e._v(" 海鲜 ")]),i("div",{staticStyle:{width:"30%",display:"flex","flex-direction":"column","border-right":"1px solid #333","margin-right":"4px"}},[i("div",{staticStyle:{height:"30px","font-size":"12px"}},[e._v("收件员")]),i("div",{staticStyle:{height:"30px","font-size":"12px"}},[e._v("派件员")])]),i("div",{staticStyle:{width:"20%",display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{height:"30px","font-size":"12px"}},[e._v("收方签署")]),i("div",{staticStyle:{height:"30px","font-size":"12px"}},[e._v("日期")])])]),i("div",{staticStyle:{width:"100%","text-align":"center",height:"16px","font-size":"10px","border-bottom":"1px solid #333"}},[e._v(" 寄件时间:"+e._s(e.sfHasValue.send_time)+",账号:"+e._s(e.sfHasValue.MonthCode)+","),e.sfHasValue.expressValue>0?i("label",[e._v("保价:"+e._s(e.sfHasValue.expressValue)+"元")]):e._e()]),i("div",{staticStyle:{display:"flex",width:"100%","border-bottom":"1px solid #333"}},[i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("barcode",{attrs:{value:e.sfHasValue.LogisticCode,height:"30","display-value":"false",tag:"img"}}),i("div",{staticStyle:{width:"100%",margin:"0 auto","text-align":"center","font-size":"12px","padding-bottom":"2px"}},[e._v(" 快递单号:"+e._s(e.sfHasValue.LogisticCode)+" ")])],1)]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 收方 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"10px"}},[e._v(" "+e._s(e.receiverInfo.Name)+" "+e._s(e.receiverInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.receiverInfo.ProvinceName+e.receiverInfo.CityName+e.receiverInfo.ExpAreaName+e.receiverInfo.Address)+" ")])])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 寄方 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"10px"}},[e._v(" "+e._s(e.senderInfo.Name)+" "+e._s(e.senderInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.senderInfo.ProvinceName+e.senderInfo.CityName+e.senderInfo.ExpAreaName+e.senderInfo.Address)+" ")])])]),i("div",{staticStyle:{height:"80px","font-size":"10px"}},[e._v(" "+e._s(e.orderInfo.print_info)+" ")])]):e._e(),3==e.expressType?i("div",{staticStyle:{display:"block",width:"400px",height:"500px",border:"1px solid #333",background:"#fff",overflow:"hidden",margin:"0 auto"},attrs:{id:"sfth-block"}},[i("div",{staticStyle:{display:"flex",width:"100%","border-bottom":"1px solid #333"}},[i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("barcode",{attrs:{value:e.sfHasValue.LogisticCode,height:"40","display-value":"false",tag:"img"}}),i("div",{staticStyle:{width:"100%",margin:"0 auto","text-align":"center","font-size":"12px","padding-bottom":"2px"}},[e._v(" 快递单号:"+e._s(e.sfHasValue.LogisticCode)+" ")])],1)]),i("div",{staticStyle:{display:"flex","flex-direction":"column",width:"100%","border-bottom":"1px solid #333"}},[i("div",{staticStyle:{"text-align":"center","font-size":"32px","font-weight":"bold"}},[e._v(" "+e._s(e.sfHasValue.DestinatioCode)+" ")])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 收件人 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"12px"}},[e._v(" "+e._s(e.receiverInfo.Name)+" "+e._s(e.receiverInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(e.receiverInfo.ProvinceName+e.receiverInfo.CityName+e.receiverInfo.ExpAreaName+e.receiverInfo.Address)+" ")])])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 寄件人 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"10px"}},[e._v(" "+e._s(e.senderInfo.Name)+" "+e._s(e.senderInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.senderInfo.ProvinceName+e.senderInfo.CityName+e.senderInfo.ExpAreaName+e.senderInfo.Address)+" ")])])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 托寄物 ")]),i("div",{staticStyle:{"font-size":"20px",width:"30%","border-right":"1px solid #333","margin-right":"4px"}},[e._v(" 海干货 ")]),i("div",{staticStyle:{width:"30%",display:"flex","flex-direction":"column","border-right":"1px solid #333","margin-right":"4px"}},[i("div",{staticStyle:{height:"30px","font-size":"12px"}},[e._v("收件员")]),i("div",{staticStyle:{height:"30px","font-size":"12px"}},[e._v("派件员")])]),i("div",{staticStyle:{width:"20%",display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{height:"30px","font-size":"12px"}},[e._v("收方签署")]),i("div",{staticStyle:{height:"30px","font-size":"12px"}},[e._v("日期")])])]),i("div",{staticStyle:{width:"100%","text-align":"center",height:"16px","font-size":"10px","border-bottom":"1px solid #333"}},[e._v(" 寄件时间:"+e._s(e.sfHasValue.send_time)+",账号:"+e._s(e.sfHasValue.MonthCode)+","),e.sfHasValue.expressValue>0?i("label",[e._v("保价:"+e._s(e.sfHasValue.expressValue)+"元")]):e._e()]),i("div",{staticStyle:{display:"flex",width:"100%","border-bottom":"1px solid #333"}},[i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("barcode",{attrs:{value:e.sfHasValue.LogisticCode,height:"30","display-value":"false",tag:"img"}}),i("div",{staticStyle:{width:"100%",margin:"0 auto","text-align":"center","font-size":"12px","padding-bottom":"2px"}},[e._v(" 快递单号:"+e._s(e.sfHasValue.LogisticCode)+" ")])],1)]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 收方 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"10px"}},[e._v(" "+e._s(e.receiverInfo.Name)+" "+e._s(e.receiverInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.receiverInfo.ProvinceName+e.receiverInfo.CityName+e.receiverInfo.ExpAreaName+e.receiverInfo.Address)+" ")])])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 寄方 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"10px"}},[e._v(" "+e._s(e.senderInfo.Name)+" "+e._s(e.senderInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.senderInfo.ProvinceName+e.senderInfo.CityName+e.senderInfo.ExpAreaName+e.senderInfo.Address)+" ")])])]),i("div",{staticStyle:{height:"80px","font-size":"10px"}},[e._v(" "+e._s(e.orderInfo.print_info)+" ")])]):e._e(),4==e.expressType?i("div",{staticStyle:{display:"block",width:"400px",height:"720px",border:"1px solid #333",background:"#fff",overflow:"hidden",margin:"0 auto"},attrs:{id:"yto-block"}},[i("div",{staticStyle:{display:"flex",width:"100%","border-bottom":"1px solid #333"}},[i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("barcode",{attrs:{value:e.sfHasValue.LogisticCode,height:"50","display-value":"false",tag:"img"}}),i("div",{staticStyle:{width:"100%",margin:"0 auto","text-align":"center","font-size":"12px","padding-bottom":"2px"}},[e._v(" 快递单号:"+e._s(e.sfHasValue.LogisticCode)+" ")])],1)]),i("div",{staticStyle:{display:"flex","flex-direction":"column",width:"100%","border-bottom":"1px solid #333"}},[i("div",{staticStyle:{"text-align":"center","font-size":"44px","font-weight":"bold"}},[e._v(" "+e._s(e.sfHasValue.MarkDestination)+" ")])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"12px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 收件人 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"12px"}},[e._v(" "+e._s(e.receiverInfo.Name)+" "+e._s(e.receiverInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(e.receiverInfo.ProvinceName+e.receiverInfo.CityName+e.receiverInfo.ExpAreaName+e.receiverInfo.Address)+" ")])])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"12px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 寄件人 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"12px"}},[e._v(" "+e._s(e.senderInfo.Name)+e._s(e.senderInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(e.senderInfo.ProvinceName+e.senderInfo.CityName+e.senderInfo.ExpAreaName+e.senderInfo.Address)+" ")])])]),i("div",{staticStyle:{display:"flex","justify-content":"space-between","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"50%",height:"70px","border-right":"1px solid #333"}},[i("div",{staticStyle:{height:"30px","font-size":"12px"}},[e._v("收件人/代收人：")])]),i("div",{staticStyle:{width:"50%",height:"70px"}},[i("div",{staticStyle:{height:"30px","font-size":"12px"}},[e._v("签收时间：")])])]),i("div",{staticStyle:{width:"100%","text-align":"center",height:"30px","font-size":"10px"}},[e._v(" 寄件时间："+e._s(e.sfHasValue.send_time)+" ")]),i("div",{staticStyle:{width:"100%","text-align":"center",height:"60px","font-size":"10px"}}),i("div",{staticStyle:{display:"flex",width:"100%","border-bottom":"1px solid #333"}},[i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("barcode",{attrs:{value:e.sfHasValue.LogisticCode,height:"30","display-value":"false",tag:"img"}}),i("div",{staticStyle:{width:"100%",margin:"0 auto","text-align":"center","font-size":"12px","padding-bottom":"2px"}},[e._v(" 快递单号:"+e._s(e.sfHasValue.LogisticCode)+" ")])],1)]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 收方 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"10px"}},[e._v(" "+e._s(e.receiverInfo.Name)+" "+e._s(e.receiverInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.receiverInfo.ProvinceName+e.receiverInfo.CityName+e.receiverInfo.ExpAreaName+e.receiverInfo.Address)+" ")])])]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #333",position:"relative"}},[i("div",{staticStyle:{width:"12px",padding:"0 2px","text-align":"center","font-size":"10px","border-right":"1px solid #333","margin-right":"10px"}},[e._v(" 寄方 ")]),i("div",{staticStyle:{display:"flex","flex-direction":"column"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"10px"}},[e._v(" "+e._s(e.senderInfo.Name)+e._s(e.senderInfo.Tel)+" ")]),i("div",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.senderInfo.ProvinceName+e.senderInfo.CityName+e.senderInfo.ExpAreaName+e.senderInfo.Address)+" ")])])]),i("div",{staticStyle:{height:"80px","font-size":"10px"}},[e._v(" "+e._s(e.orderInfo.print_info)+" ")])]):e._e(),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.cancelPrint}},[e._v("取 消")]),e.autoGoDelivery?i("el-button",{attrs:{type:"primary"},on:{click:e.printAndDeliveryConfirm}},[e._v("打印并发货")]):e.autoGoDelivery?e._e():i("el-button",{attrs:{type:"primary"},on:{click:e.printOnlyConfirm}},[e._v("只打印快递单")])],1)]),i("el-dialog",{attrs:{title:"修改价格",visible:e.dialogPriceVisible},on:{"update:visible":function(t){e.dialogPriceVisible=t}}},[i("el-form",{attrs:{model:e.orderInfo}},[i("el-form-item",{attrs:{label:"改价前总价:"}},[i("h2",[e._v("¥"+e._s(e.orderInfo.change_price))])]),i("el-form-item",{attrs:{label:"修改商品价格:"}},[i("el-input-number",{attrs:{min:0,max:99999999,"auto-complete":"off",placeholder:"请输入商品价格"},on:{change:e.goodsPriceChange},model:{value:e.orderInfo.goods_price,callback:function(t){e.$set(e.orderInfo,"goods_price",t)},expression:"orderInfo.goods_price"}})],1),i("el-form-item",{attrs:{label:"修改快递价格:"}},[i("el-input-number",{attrs:{min:0,max:99999999,"auto-complete":"off",placeholder:"请输入修改后的快递"},on:{change:e.freightPriceChange},model:{value:e.orderInfo.freight_price,callback:function(t){e.$set(e.orderInfo,"freight_price",t)},expression:"orderInfo.freight_price"}})],1),i("el-form-item",{attrs:{label:"改价后总价:"}},[i("h2",[e._v("¥"+e._s(e.orderInfo.actual_price))])]),i("el-form-item",{attrs:{label:""}},[e._v(" "+e._s(e.orderInfo.change_price-e.orderInfo.actual_price>0?"优惠金额："+(e.orderInfo.change_price-e.orderInfo.actual_price).toFixed(2):"涨价金额："+(e.orderInfo.actual_price-e.orderInfo.change_price).toFixed(2))+" ")])],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogPriceVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.priceChangeConfirm}},[e._v("确 定")])],1)],1)],1)},r=[],o=(i("a9e3"),i("14d9"),i("e9c4"),i("f579")),a=i.n(o),n=i("d188"),l={data:function(){return{autoGoDelivery:!0,sfHasValue:{},barcodeValue:"test",printMiandan:!1,rawHtml:"",testApi:"http://sandboxapi.kdniao.com:8080/kdniaosandbox/gateway/exterfaceInvoke.json",expressType:0,checkAll:!1,checkedCities:["上海","北京"],cities:["上海","北京","广州","深圳"],isIndeterminate:!0,page:1,total:0,filterForm:{name:"",logistic_code:""},tableData:[],activeName:"second",order_status:300,dialogVisible:!1,dialogVisible2:!1,dialogFormVisible:!1,dialogPriceVisible:!1,dialogText:"",dialogIndex:0,order_sn:0,order_id:0,dform:{method:2},orderInfo:{},isShow:!0,deliveryCom:[],nowDeliveryId:"",formLabelWidth:"120px",barcode_option:{displayValue:!1,background:"#fff",width:2,height:100,fontSize:20},senderInfo:{},receiverInfo:{},dialogExpressVisible:!1,rePrintStatus:0,changeSender:0,changeReceive:0,options:[],senderOptions:[],receiveOptions:[],receiver:{},sender:{}}},methods:{hidePrintDialog:function(){this.dform.method=2,this.dialogFormVisible=!1,console.log("11111")},goodsPriceChange:function(e){console.log(e),this.orderInfo.goods_price=e,this.orderInfo.actual_price=Number(this.orderInfo.goods_price)+Number(this.orderInfo.freight_price)},freightPriceChange:function(e){this.orderInfo.freight_price=e,this.orderInfo.actual_price=Number(this.orderInfo.goods_price)+Number(e)},getAllRegion:function(){var e=this;this.axios.get("order/getAllRegion").then((function(t){e.options=t.data.data}))},deliveryGoGo:function(){var e=this;if(console.log(this.order_id),console.log(this.nowDeliveryId),console.log(this.dform),2==this.dform.method&&(void 0==this.dform.logistic_code||""==this.nowDeliveryId))return this.$message({type:"error",message:"请输入快递单号和快递公司"}),!1;this.axios.get("order/orderDelivery",{params:{orderId:this.order_id,shipper:this.nowDeliveryId,method:this.dform.method,logistic_code:this.dform.logistic_code}}).then((function(t){e.dialogFormVisible=!1,e.dialogExpressVisible=!1,e.getList()}))},getDeliveyInfo:function(){var e=this;this.axios.get("delivery").then((function(t){e.deliveryCom=t.data.data}))},changeExpressValue:function(e){var t=this;1==this.expressType&&this.axios.post("order/saveExpressValueInfo",{express_value:e.express_value,id:e.id}).then((function(e){0===e.data.errno?t.$message({type:"success",message:"保存成功!"}):t.$message({type:"error",message:"保存失败"})}))},confirm:function(){var e=this;this.axios.get("order/orderpack",{params:{orderId:this.order_id}}).then((function(t){e.dialogVisible=!1,e.getList()}))},changeRemarkInfo:function(e){var t=this;this.axios.post("order/saveRemarkInfo",{remark:e.remark,id:e.id}).then((function(e){0===e.data.errno?t.$message({type:"success",message:"保存成功!"}):t.$message({type:"error",message:"保存失败"})}))},changeInfo:function(e){var t=this,i=e.id,s=e.print_info;this.axios.post("order/savePrintInfo",{print_info:s,id:i}).then((function(e){0===e.data.errno?t.$message({type:"success",message:"保存成功!"}):t.$message({type:"error",message:"保存失败"})}))},changeMemo:function(e,t){var i=this;this.axios.post("order/saveAdminMemo",{text:t,id:e}).then((function(e){0===e.data.errno?i.$message({type:"success",message:"保存成功!"}):i.$message({type:"error",message:"保存失败"})}))},cancelPrint:function(){this.printMiandan=!1,this.dialogFormVisible=!1},handleCheckedCitiesChange:function(){console.log("哈哈")},onPrintNum:function(){this.axios.post(this.testApi,this.testData,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){console.log(e.data)}))},viewDetail:function(e){this.$router.push({name:"order_detail",query:{id:e}})},handleClick:function(e,t){var i=e._data.index;0==i?this.order_status="101,801":1==i?this.order_status=300:2==i?this.order_status=301:3==i?this.order_status=401:4==i?this.order_status="102,103":5==i&&(this.order_status="101,102,103,202,203,300,301,302,303,401,801,802"),this.getList()},handlePageChange:function(e){this.page=e,localStorage.setItem("orderPage",this.page),localStorage.setItem("orderFilterForm",JSON.stringify(this.filterForm)),this.getList()},handleRowEdit:function(e,t){this.$router.push({name:"order_detail",query:{id:t.id}})},handleRowDelete:function(e,t){var i=this;this.$confirm("确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.axios.post("order/destory",{id:t.id}).then((function(e){console.log(e.data),0===e.data.errno&&(i.$message({type:"success",message:"删除成功!"}),i.getList())}))}))},onSubmitFilter:function(){this.page=1,this.getList()},getList:function(){var e=this;this.axios.get("order",{params:{page:this.page,orderSn:this.filterForm.order_sn,consignee:this.filterForm.consignee,logistic_code:this.filterForm.logistic_code,status:this.order_status}}).then((function(t){e.tableData=t.data.data.data,console.log(e.tableData),e.page=t.data.data.currentPage,e.total=t.data.data.count}))},orderEdit:function(e){this.rePrintStatus=0,console.log(0),this.order_id=e.id,300==e.order_status||301==e.order_status?(this.rePrintStatus=0,this.checkExpressInfo(),console.log(1)):101==e.order_status?(this.getOrderInfo(this.order_id),this.dialogPriceVisible=!0,console.log(2)):301==e.order_status&&1==e.is_fake&&(this.dialogVisible2=!0,console.log(3))},rePrintExpress:function(){var e=this;this.rePrintStatus=0,this.axios.get("order/rePrintExpress",{params:{orderId:this.order_id}}).then((function(t){0===t.data.errno&&(e.expressType=0,e.getOrderInfo(e.order_id),e.dialogFormVisible=!0)}))},directPrintExpress:function(){var e=this;this.rePrintStatus=1,this.axios.get("order/directPrintExpress",{params:{orderId:this.order_id}}).then((function(t){if(0===t.data.errno){var i=t.data.data;e.expressType=i.express_type;var s=e.orderInfo;e.sfHasValue={LogisticCode:i.logistic_code,remark:s.remark,DestinatioCode:i.region_code,MarkDestination:i.region_code,send_time:i.send_time,MonthCode:i.MonthCode},e.expressType=0,e.dialogFormVisible=!0}}))},directPrintConfirm:function(){var e=this.expressType;if(0==e)return this.$message({type:"error",message:"请选择一个快递免单模板!"}),!1;1==e&&(this.sfHasValue.expressValue=this.orderInfo.express_value),this.printMiandan=!0,this.dialogFormVisible=!1,this.dialogExpressVisible=!1},checkExpressInfo:function(){var e=this;this.getOrderInfo(this.order_id),this.axios.get("order/checkExpress",{params:{orderId:this.order_id}}).then((function(t){console.log(t.data),0===t.data.errno?e.dialogExpressVisible=!0:(e.expressType=0,e.dialogFormVisible=!0)}))},receiveConfirm:function(){var e=this;this.axios.get("order/orderReceive",{params:{orderId:this.order_id}}).then((function(t){e.dialogVisible2=!1,e.getList()}))},deliveyGoConfirm:function(){var e=this,t=this.expressType;if(0==t)return this.$message({type:"error",message:"请选择一个快递免单模板!"}),!1;console.log(t),this.sender.senderOptions=this.senderOptions,this.receiver.receiveOptions=this.receiveOptions,this.axios.post("order/getMianExpress",{orderId:this.orderInfo.id,sender:this.sender,receiver:this.receiver,expressType:t}).then((function(i){var s=i.data.data.latestExpressInfo;100==s.ResultCode?(e.rawHtml=s.PrintTemplate,e.sfHasValue=s.Order,e.sfHasValue.expressValue=s.expressValue,e.sfHasValue.send_time=s.send_time,e.sfHasValue.remark=s.remark,e.sfHasValue.MonthCode=s.MonthCode,e.sfHasValue.send_time=s.send_time,e.sfHasValue.orderId=e.orderInfo.id,e.sfHasValue.expressType=t,e.senderInfo=i.data.data.sender,e.receiverInfo=i.data.data.receiver,e.printMiandan=!0,e.dialogFormVisible=!1,e.dialogExpressVisible=!1):105==i.data.data.latestExpressInfo.ResultCode&&e.$message({type:"error",message:"操作超时，请重试!"})}))},deliveryConfirm:function(e){var t=this;this.axios.post("order/goDelivery",{order_id:e}).then((function(e){0===e.data.errno?(t.getList(),t.$message({type:"success",message:"发货成功!"})):t.$message({type:"error",message:"失败了!"})}))},printAndDeliveryConfirm:function(){var e=this;this.axios.post("order/goDelivery",{order_id:this.order_id}).then((function(t){if(0===t.data.errno){e.getList(),e.printMiandan=!1,e.dialogFormVisible=!1;var i=e.sfHasValue.expressType;1==i||2==i?e.printit1():3==i?e.printit2():4==i&&e.printit3()}else e.$message({type:"error",message:"失败了!"})}))},printOnlyConfirm:function(){var e=this;this.axios.post("order/goPrintOnly",{order_id:this.order_id}).then((function(t){if(0===t.data.errno){e.getList(),e.printMiandan=!1,e.dialogFormVisible=!1;var i=e.sfHasValue.expressType;1==i||2==i?e.printit1():3==i?e.printit2():4==i&&e.printit3()}else e.$message({type:"error",message:"失败了!"})}))},printit1:function(){var e=window.open("","PRINT","height=1500,width=1000");return e.document.write("<html><head><title></title>"),e.document.write("</head><body >"),e.document.write(document.getElementById("sfbj-block").innerHTML),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print(),e.close(),!0},printit2:function(){var e=window.open("","PRINT","height=1500,width=1000");return e.document.write("<html><head><title></title>"),e.document.write("</head><body >"),e.document.write(document.getElementById("sfth-block").innerHTML),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print(),e.close(),!0},printit3:function(){var e=window.open("","PRINT","height=1800,width=1000");return e.document.write("<html><head><title></title>"),e.document.write("</head><body >"),e.document.write(document.getElementById("yto-block").innerHTML),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print(),e.close(),!0},priceChangeConfirm:function(){var e=this;if(""==this.orderInfo.actual_price||0==this.orderInfo.actual_price)return this.$message({type:"error",message:"总价不能为空!"}),!1;this.axios.get("order/orderPrice",{params:{orderId:this.order_id,actualPrice:this.orderInfo.actual_price,freightPrice:this.orderInfo.freight_price,goodsPrice:this.orderInfo.goods_price}}).then((function(t){e.dialogPriceVisible=!1,e.getList()}))},getAutoStatus:function(){var e=this;this.axios.get("order/getAutoStatus").then((function(t){var i=t.data.data;e.autoGoDelivery=1==i}))},getOrderInfo:function(e){var t=this;this.axios.get("order/detail",{params:{orderId:this.order_id}}).then((function(e){t.orderInfo=e.data.data.orderInfo,t.receiver=e.data.data.receiver,t.sender=e.data.data.sender,console.log(t.sender),t.receiveOptions=[],t.receiveOptions.push(t.receiver.province_id,t.receiver.city_id,t.receiver.district_id),t.senderOptions=[],t.senderOptions.push(t.sender.province_id,t.sender.city_id,t.sender.district_id)}))},deliveryMethodChange:function(e){1!=e&&(this.expressType=0)}},components:{ElButton:n["a"],barcode:a.a},mounted:function(){this.getList(),this.getAutoStatus(),this.getDeliveyInfo(),this.getAllRegion()}},d=l,c=(i("49e2"),i("2877")),p=Object(c["a"])(d,s,r,!1,null,"626a0176",null);t["default"]=p.exports}}]);