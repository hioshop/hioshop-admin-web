(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-faaafe72"],{"14d9":function(t,e,n){"use strict";var a=n("23e7"),r=n("7b0b"),o=n("07fa"),s=n("3a34"),i=n("3511"),c=n("d039"),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},d=l||!u();a({target:"Array",proto:!0,arity:1,forced:d},{push:function(t){var e=r(this),n=o(e),a=arguments.length;i(n+a);for(var c=0;c<a;c++)e[n]=arguments[c],n++;return s(e,n),n}})},"19d1":function(t,e,n){"use strict";n("2e2c")},"2e2c":function(t,e,n){},"3a34":function(t,e,n){"use strict";var a=n("83ab"),r=n("e8b5"),o=TypeError,s=Object.getOwnPropertyDescriptor,i=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=i?function(t,e){if(r(t)&&!s(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},fc8c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-page"},[n("div",{staticClass:"content-nav"},[n("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/dashboard/nature"}}},[t._v("商品设置")]),n("el-breadcrumb-item",[t._v("商品分类")])],1),n("div",{staticClass:"operation-nav"},[n("router-link",{attrs:{to:"/dashboard/category/add"}},[n("el-button",{attrs:{type:"primary",icon:"plus"}},[t._v("添加分类")])],1)],1)],1),n("div",{staticClass:"content-main"},[n("div",{staticClass:"form-table-box"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[n("el-table-column",{attrs:{prop:"name",label:"分类名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.level?n("div",{staticClass:"bg-gray"},[t._v(t._s(e.row.name))]):t._e(),2==e.row.level?n("div",{staticClass:"bg-left"},[t._v(t._s(e.row.name))]):t._e()]}}])}),n("el-table-column",{attrs:{label:"图标显示",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(n){return t.changeChannelStatus(n,e.row.id)}},model:{value:e.row.is_channel,callback:function(n){t.$set(e.row,"is_channel",n)},expression:"scope.row.is_channel"}})]}}])}),n("el-table-column",{attrs:{label:"首页显示",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(n){return t.changeShowStatus(n,e.row.id)}},model:{value:e.row.is_show,callback:function(n){t.$set(e.row,"is_show",n)},expression:"scope.row.is_show"}})]}}])}),n("el-table-column",{attrs:{label:"全部产品页面显示",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(n){return t.changeCategoryStatus(n,e.row.id)}},model:{value:e.row.is_category,callback:function(n){t.$set(e.row,"is_category",n)},expression:"scope.row.is_category"}})]}}])}),n("el-table-column",{attrs:{prop:"sort_order",label:"排序",width:"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"排序"},on:{blur:function(n){return t.submitSort(e.$index,e.row)}},model:{value:e.row.sort_order,callback:function(n){t.$set(e.row,"sort_order",n)},expression:"scope.row.sort_order"}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){return t.handleRowEdit(e.$index,e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return t.handleRowDelete(e.$index,e.row)}}},[t._v("删除 ")])]}}])})],1)],1)])])},r=[],o=(n("14d9"),n("b0c0"),{data:function(){return{page:1,total:0,filterForm:{name:""},tableData:[]}},methods:{changeShowStatus:function(t,e){this.axios.get("category/showStatus",{params:{status:t,id:e}}).then((function(t){}))},changeChannelStatus:function(t,e){this.axios.get("category/channelStatus",{params:{status:t,id:e}}).then((function(t){}))},changeCategoryStatus:function(t,e){this.axios.get("category/categoryStatus",{params:{status:t,id:e}}).then((function(t){}))},submitSort:function(t,e){this.axios.post("category/updateSort",{id:e.id,sort:e.sort_order}).then((function(t){}))},handleRowEdit:function(t,e){this.$router.push({name:"category_add",query:{id:e.id}})},handleRowDelete:function(t,e){var n=this;this.$confirm("确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.axios.post("category/destory",{id:e.id}).then((function(t){console.log(t.data),0===t.data.errno?(n.$message({type:"success",message:"删除成功!"}),n.getList()):n.$message({type:"error",message:"删除失败，该分类有子分类!"})}))}))},onSubmitFilter:function(){this.page=1,this.getList()},getList:function(){var t=this;this.axios.get("category",{params:{page:this.page,name:this.filterForm.name}}).then((function(e){t.tableData=e.data.data}))}},components:{},mounted:function(){this.getList()}}),s=o,i=(n("19d1"),n("2877")),c=Object(i["a"])(s,a,r,!1,null,"2ad99e9e",null);e["default"]=c.exports}}]);