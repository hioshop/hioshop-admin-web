(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27b4040d"],{"14d9":function(e,t,r){"use strict";var o=r("23e7"),i=r("7b0b"),n=r("07fa"),a=r("3a34"),s=r("3511"),l=r("d039"),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},m=u||!c();o({target:"Array",proto:!0,arity:1,forced:m},{push:function(e){var t=i(this),r=n(t),o=arguments.length;s(r+o);for(var l=0;l<o;l++)t[r]=arguments[l],r++;return a(t,r),r}})},"2bf3":function(e,t,r){"use strict";r("9287")},"3a34":function(e,t,r){"use strict";var o=r("83ab"),i=r("e8b5"),n=TypeError,a=Object.getOwnPropertyDescriptor,s=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw n("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},9287:function(e,t,r){},c5ea:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content-page"},[r("div",{staticClass:"content-nav"},[r("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[r("el-breadcrumb-item",[e._v("快递设置")])],1),r("div",{staticClass:"operation-nav"},[r("router-link",{attrs:{to:"/dashboard/shipper/list"}},[r("el-button",{attrs:{type:"primary",icon:"plus"}},[e._v("快递公司列表")])],1)],1)],1),r("div",{staticClass:"content-main"},[r("div",{staticClass:"form-table-box"},[r("el-form",{ref:"infoForm",attrs:{model:e.infoForm,rules:e.infoRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"打印后自动发货"}},[r("el-switch",{on:{change:function(t){return e.changeStatus(e.infoForm.autoDelivery)}},model:{value:e.infoForm.autoDelivery,callback:function(t){e.$set(e.infoForm,"autoDelivery",t)},expression:"infoForm.autoDelivery"}})],1),r("el-form-item",{attrs:{label:"寄件人",prop:"Name"}},[r("el-input",{attrs:{placeholder:"请输入非代理发货时的寄件人"},model:{value:e.infoForm.Name,callback:function(t){e.$set(e.infoForm,"Name",t)},expression:"infoForm.Name"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"Tel"}},[r("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.infoForm.Tel,callback:function(t){e.$set(e.infoForm,"Tel",t)},expression:"infoForm.Tel"}})],1),r("el-form-item",{attrs:{label:"省份",prop:"ProvinceName"}},[r("el-cascader",{attrs:{options:e.options,placeholder:"请选择地区"},model:{value:e.senderOptions,callback:function(t){e.senderOptions=t},expression:"senderOptions"}})],1),r("el-form-item",{attrs:{label:"地址",prop:"Address"}},[r("el-input",{attrs:{placeholder:"请输入具体地址"},model:{value:e.infoForm.Address,callback:function(t){e.$set(e.infoForm,"Address",t)},expression:"infoForm.Address"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSaveSubmit}},[e._v("确定保存")])],1)],1)],1),r("div",{staticClass:"form-table-box"},[r("el-form",{attrs:{"label-width":"120px"}},[r("el-form-item",{attrs:{label:"使用中的快递"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"name",label:"名字"}}),r("el-table-column",{attrs:{prop:"code",label:"代号"}}),r("el-table-column",{attrs:{prop:"CustomerName",label:"客户编号"}}),r("el-table-column",{attrs:{prop:"MonthCode",label:"月结账号"}}),r("el-table-column",{attrs:{label:"操作",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small"},on:{click:function(r){return e.handleRowEdit(t.$index,t.row)}}},[e._v("编辑 ")])]}}])})],1)],1)],1)],1)])])},i=[],n=(r("14d9"),{data:function(){return{infoForm:{},page:1,total:0,filterForm:{name:""},tableData:[],options:[],senderOptions:[],infoRules:{Name:[{required:!0,message:"请输入寄件人姓名",trigger:"blur"}],Tel:[{required:!0,message:"请输入寄件人电话",trigger:"blur"}],ProvinceName:[{required:!0,message:"请输入寄件省份",trigger:"blur"}],CityName:[{required:!0,message:"请输入寄件城市",trigger:"blur"}],ExpAreaName:[{required:!0,message:"请输入寄件区县",trigger:"blur"}],Address:[{required:!0,message:"请输入寄件人具体地址",trigger:"blur"}]}}},methods:{getAllRegion:function(){var e=this;this.axios.get("order/getAllRegion").then((function(t){e.options=t.data.data}))},changeStatus:function(){var e=this;1==this.infoForm.autoDelivery?this.infoForm.autoDelivery=1:this.infoForm.autoDelivery=0,this.axios.post("admin/changeAutoStatus",{status:this.infoForm.autoDelivery}).then((function(t){0===t.data.errno?(e.$message({type:"success",message:"更改成功"}),1==e.infoForm.autoDelivery?e.infoForm.autoDelivery=!0:e.infoForm.autoDelivery=!1):e.$message({type:"error",message:"更改失败"})}))},handleRowEdit:function(e,t){this.$router.push({name:"shipper_add",query:{id:t.id}})},onSaveSubmit:function(){var e=this;this.infoForm.province_id=this.senderOptions[0],this.infoForm.city_id=this.senderOptions[1],this.infoForm.district_id=this.senderOptions[2],1==this.infoForm.autoDelivery?this.infoForm.autoDelivery=1:this.infoForm.autoDelivery=0,this.$refs["infoForm"].validate((function(t){if(!t)return!1;e.axios.post("admin/storeShipperSettings",e.infoForm).then((function(t){0===t.data.errno?(e.$message({type:"success",message:"保存成功"}),1==e.infoForm.autoDelivery?e.infoForm.autoDelivery=!0:e.infoForm.autoDelivery=!1):e.$message({type:"error",message:"保存失败"})}))}))},getList:function(){var e=this;this.axios.get("shipper").then((function(t){e.infoForm=t.data.data.set,e.tableData=t.data.data.info,1==e.infoForm.autoDelivery?e.infoForm.autoDelivery=!0:e.infoForm.autoDelivery=!1,e.senderOptions.push(e.infoForm.province_id,e.infoForm.city_id,e.infoForm.district_id)}))}},components:{},mounted:function(){this.getList(),this.getAllRegion()}}),a=n,s=(r("2bf3"),r("2877")),l=Object(s["a"])(a,o,i,!1,null,"fd1bbc86",null);t["default"]=l.exports}}]);