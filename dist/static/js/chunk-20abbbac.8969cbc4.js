(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20abbbac"],{"14d9":function(t,e,a){"use strict";var n=a("23e7"),r=a("7b0b"),o=a("07fa"),i=a("3a34"),s=a("3511"),l=a("d039"),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},d=c||!u();n({target:"Array",proto:!0,arity:1,forced:d},{push:function(t){var e=r(this),a=o(e),n=arguments.length;s(a+n);for(var l=0;l<n;l++)e[a]=arguments[l],a++;return i(e,a),a}})},"3a34":function(t,e,a){"use strict";var n=a("83ab"),r=a("e8b5"),o=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(r(t)&&!i(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},c1fe:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-page"},[a("div",{staticClass:"content-nav"},[a("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[a("el-breadcrumb-item",[t._v("广告列表")])],1),a("div",{staticClass:"operation-nav"},[a("router-link",{attrs:{to:"/dashboard/ad/add"}},[a("el-button",{attrs:{type:"primary",icon:"plus"}},[t._v("添加广告")])],1)],1)],1),a("div",{staticClass:"content-main"},[a("div",{staticClass:"form-table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"70px"}}),a("el-table-column",{attrs:{prop:"image_url",label:"广告"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"90px",height:"50px"},attrs:{src:t.row.image_url,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"goods_id",label:"关联商品"}}),a("el-table-column",{attrs:{prop:"end_time",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"sort_order",label:"排序",width:"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"排序"},on:{blur:function(a){return t.submitSort(e.$index,e.row)}},model:{value:e.row.sort_order,callback:function(a){t.$set(e.row,"sort_order",a)},expression:"scope.row.sort_order"}})]}}])}),a("el-table-column",{attrs:{prop:"enabled",label:"状态",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(1==e.row.enabled?"启用":"禁用")+" ")]}}])}),a("el-table-column",{attrs:{label:"开启状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(a){return t.changeStatus(a,e.row.id)}},model:{value:e.row.enabled,callback:function(a){t.$set(e.row,"enabled",a)},expression:"scope.row.enabled"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.handleRowEdit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return t.handleRowDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),a("div",{staticClass:"page-box"},[a("el-pagination",{attrs:{"current-page":t.page,"page-size":10,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handlePageChange}})],1)])])},r=[],o=(a("e9c4"),a("14d9"),{data:function(){return{page:1,total:0,filterForm:{name:""},tableData:[]}},methods:{test:function(){console.log(this.tableData)},submitSort:function(t,e){this.axios.post("ad/updateSort",{id:e.id,sort:e.sort_order}).then((function(t){}))},changeStatus:function(t,e){this.axios.get("ad/saleStatus",{params:{status:t,id:e}}).then((function(t){}))},handlePageChange:function(t){this.page=t,localStorage.setItem("adPage",this.page),localStorage.setItem("adFilterForm",JSON.stringify(this.filterForm)),this.getList()},handleRowEdit:function(t,e){this.$router.push({name:"ad_add",query:{id:e.id}})},handleRowDelete:function(t,e){var a=this;this.$confirm("确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.axios.post("ad/destory",{id:e.id}).then((function(t){console.log(t.data),0===t.data.errno&&(a.$message({type:"success",message:"删除成功!"}),a.getList())}))}))},onSubmitFilter:function(){this.page=1,this.getList()},getList:function(){var t=this;this.axios.get("ad",{params:{page:this.page}}).then((function(e){t.tableData=e.data.data.data,t.page=e.data.data.currentPage,t.total=e.data.data.count})),console.log(this.tableData)}},components:{},mounted:function(){this.getList()}}),i=o,s=a("2877"),l=Object(s["a"])(i,n,r,!1,null,"2fba790e",null);e["default"]=l.exports}}]);