(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e08e13c"],{"14d9":function(t,a,e){"use strict";var s=e("23e7"),i=e("7b0b"),r=e("07fa"),o=e("3a34"),l=e("3511"),n=e("d039"),d=n((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},u=d||!c();s({target:"Array",proto:!0,arity:1,forced:u},{push:function(t){var a=i(this),e=r(a),s=arguments.length;l(e+s);for(var n=0;n<s;n++)a[e]=arguments[n],e++;return o(a,e),e}})},"20bf":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content-page"},[e("div",{staticClass:"content-nav"},[e("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{name:"user"}}},[t._v("会员管理")]),e("el-breadcrumb-item",[t._v("会员详情")])],1),e("div",{staticClass:"operation-nav"},[e("el-button",{attrs:{type:"primary",icon:"arrow-left"},on:{click:t.goBackPage}},[t._v("返回列表")])],1)],1),e("div",{staticClass:"content-main"},[e("div",{staticClass:"form-table-box"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userData,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),e("el-table-column",{attrs:{label:"头像",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.avatar,alt:""}})]}}])}),e("el-table-column",{attrs:{prop:"nickname",width:"80",label:"昵称"}}),e("el-table-column",{attrs:{prop:"name",width:"110",label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini",placeholder:"姓名"},on:{blur:function(e){return t.submitName(a.$index,a.row)}},model:{value:a.row.name,callback:function(e){t.$set(a.row,"name",e)},expression:"scope.row.name"}})]}}])}),e("el-table-column",{attrs:{prop:"name",width:"160",label:"手机"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini",placeholder:"手机"},on:{blur:function(e){return t.submitMobile(a.$index,a.row)}},model:{value:a.row.mobile,callback:function(e){t.$set(a.row,"mobile",e)},expression:"scope.row.mobile"}})]}}])}),e("el-table-column",{attrs:{prop:"gender",label:"性别",width:"60"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(2==a.row.gender?"女":"男")+" ")]}}])}),e("el-table-column",{attrs:{prop:"register_time",label:"注册时间",width:"180"}}),e("el-table-column",{attrs:{prop:"last_login_time",label:"最近登录",width:"180"}})],1)],1),e("div",{staticClass:"block-box"},[e("div",{staticClass:"block"},[e("div",{staticClass:"text"},[t._v("提交订单数:")]),e("div",{staticClass:"num"},[t._v(t._s(this.dataInfo.orderSum)+"笔")])]),e("div",{staticClass:"block"},[e("div",{staticClass:"text"},[t._v("成交订单:")]),e("div",{staticClass:"num"},[t._v(t._s(this.dataInfo.orderDone)+"笔")])]),e("div",{staticClass:"block"},[e("div",{staticClass:"text"},[t._v("消费金额:")]),null==this.dataInfo.orderMoney?e("div",{staticClass:"num"},[t._v("0元")]):e("div",{staticClass:"num"},[t._v(t._s(this.dataInfo.orderMoney)+"元")])]),e("div",{staticClass:"block"},[e("div",{staticClass:"text"},[t._v("加入购物车:")]),null==this.dataInfo.cartSum?e("div",{staticClass:"num"},[t._v("0件")]):e("div",{staticClass:"num"},[t._v(t._s(this.dataInfo.cartSum)+"件")])])]),e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"订单",name:"first"}}),e("el-tab-pane",{attrs:{label:"地址管理",name:"second"}}),e("el-tab-pane",{attrs:{label:"购物车",name:"third"}}),e("el-tab-pane",{attrs:{label:"足迹",name:"fourth"}})],1),0==this.pIndex?e("div",{staticClass:"form-table-box"},t._l(t.orderData,(function(a){return e("div",{staticClass:"list-wrap clearfix"},[e("div",{staticClass:"header clearfix"},[e("div",{staticClass:"status-text"},[t._v(t._s(a.order_status_text))]),e("div",{staticClass:"add-time"},[t._v(t._s(a.add_time))]),e("div",{staticClass:"order-id"},[t._v("订单号："+t._s(a.order_sn))]),e("div",{staticClass:"price-wrap"},[t._v("当前合计"+t._s(a.actual_price)+"元（含运费"+t._s(a.freight_price)+"元）")]),a.change_price!=a.actual_price?e("div",{staticClass:"price-change"},[t._v(" 改价前"+t._s(a.change_price)+"元 ")]):t._e(),e("div",{staticClass:"goods-num"},[t._v("共"+t._s(a.goodsCount)+"件商品")])]),e("div",{staticClass:"content-wrap clearfix"},[e("div",{staticClass:"left"},t._l(a.goodsList,(function(a){return e("div",{staticClass:"goods-list"},[e("img",{staticClass:"goods-img",attrs:{src:a.list_pic_url}}),e("div",{staticClass:"goods-name"},[t._v(t._s(a.goods_name))]),e("div",{staticClass:"goods-spec"},[t._v(t._s(a.goods_specifition_name_value))]),e("div",{staticClass:"goods-number"},[t._v("数量："+t._s(a.number))]),e("div",{staticClass:"goods-number"},[t._v("¥"+t._s(a.retail_price))])])})),0),e("div",{staticClass:"main"},[e("div",{staticClass:"m1"},[e("div",{staticClass:"user-name"},[t._v(t._s(a.consignee))]),e("div",{staticClass:"user-mobile"},[t._v(t._s(a.mobile))])]),e("div",{staticClass:"user-address"},[t._v(t._s(a.full_region)+t._s(a.address))]),e("div",{staticClass:"user-post"},[t._v(t._s(a.postscript))])]),e("div",{staticClass:"right"},[e("el-button",{staticClass:"right-detail",attrs:{type:"text",size:"mini"},on:{click:function(e){return t.viewDetail(a.order_sn)}}},[t._v(" 查看详情 ")])],1)])])})),0):t._e(),1==this.pIndex?e("div",{staticClass:"address-wrap"},[e("div",{staticClass:"coupon-w"},[t._m(0),t._l(t.addressData,(function(a){return e("div",{staticClass:"bottom"},[e("div",{staticClass:"l"},[e("div",{staticClass:"f1",staticStyle:{width:"100px"}},[t._v(t._s(a.name))]),e("div",{staticClass:"f1",staticStyle:{width:"100px"}},[t._v(t._s(a.mobile))]),e("div",{staticClass:"f1",staticStyle:{width:"600px"}},[t._v(t._s(a.full_region))])]),e("div",{staticClass:"r"},[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.addressEdit(a)}}},[t._v("编辑")])],1)])}))],2)]):t._e(),2==this.pIndex?e("div",{staticClass:"form-table-box"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.cartData,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"goods_id",label:"商品ID",width:"100px"}}),e("el-table-column",{attrs:{prop:"list_pic_url",label:"图片",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.list_pic_url,alt:""}})]}}],null,!1,945916574)}),e("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"}}),e("el-table-column",{attrs:{prop:"goods_specifition_name_value",label:"型号"}}),e("el-table-column",{attrs:{prop:"number",label:"数量",width:"70px"}}),e("el-table-column",{attrs:{prop:"retail_price",label:"成交价"}}),e("el-table-column",{attrs:{prop:"add_time",label:"加入时间"}}),e("el-table-column",{attrs:{prop:"is_delete",label:"是否删除"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("label",[t._v(t._s(1==a.row.is_delete?"已删":""))])]}}],null,!1,434019990)})],1)],1):t._e(),3==this.pIndex?e("div",{staticClass:"form-table-box"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.footData,stripe:""}},[e("el-table-column",{attrs:{prop:"id",label:"商品ID",width:"100px"}}),e("el-table-column",{attrs:{prop:"list_pic_url",label:"图片",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.list_pic_url,alt:""}})]}}],null,!1,945916574)}),e("el-table-column",{attrs:{prop:"name",label:"商品名称"}})],1)],1):t._e(),e("div",{staticClass:"page-box"},[e("el-pagination",{attrs:{"current-page":t.page,"page-size":10,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handlePageChange}})],1)],1),e("el-dialog",{attrs:{title:"修改地址",visible:t.dialogAddressVisible},on:{"update:visible":function(a){t.dialogAddressVisible=a}}},[e("el-form",{attrs:{model:t.nowAddressData}},[e("el-form-item",{attrs:{label:"所在地区:","label-width":"120px"}},[e("el-cascader",{attrs:{options:t.options,placeholder:"请选择"},model:{value:t.addOptions,callback:function(a){t.addOptions=a},expression:"addOptions"}})],1),e("el-form-item",{attrs:{label:"详细地址:","label-width":"120px"}},[e("el-input",{staticClass:"el-input",attrs:{"auto-complete":"off",placeholder:"请输入详细地"},model:{value:t.nowAddressData.address,callback:function(a){t.$set(t.nowAddressData,"address",a)},expression:"nowAddressData.address"}})],1),e("el-form-item",{attrs:{label:"收货人:","label-width":"120px"}},[e("el-input",{staticClass:"el-input",attrs:{"auto-complete":"off",placeholder:"请输入收货人"},model:{value:t.nowAddressData.name,callback:function(a){t.$set(t.nowAddressData,"name",a)},expression:"nowAddressData.name"}})],1),e("el-form-item",{attrs:{label:"手机:","label-width":"120px"}},[e("el-input",{staticClass:"el-input",attrs:{"auto-complete":"off",placeholder:"请输入收货人手机"},model:{value:t.nowAddressData.mobile,callback:function(a){t.$set(t.nowAddressData,"mobile",a)},expression:"nowAddressData.mobile"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogAddressVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.saveAddress}},[t._v("确 定")])],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"top"},[e("div",{staticClass:"l"},[e("div",{staticClass:"f1",staticStyle:{width:"100px"}},[t._v("收件人")]),e("div",{staticClass:"f1",staticStyle:{width:"100px"}},[t._v("手机")]),e("div",{staticClass:"f1",staticStyle:{width:"600px"}},[t._v("详细地址")])]),e("div",{staticClass:"r"},[t._v("操作")])])}],r=(e("14d9"),e("b0c0"),e("a3be"),{data:function(){return{loginInfo:null,page:1,total:0,filterForm:{name:""},tableData:[],activeName:"first",pIndex:0,num:0,infoForm:{id:0},userData:[],addressData:[],cartData:[],footData:[],orderData:[],dialogAddressVisible:!1,nowAddressData:{},addOptions:[],options:[],addValue:{},dataInfo:{},data_money:[],data_sum:[],forlist:[11,10,9,8,7,6,5,4,3,2,1,0]}},methods:{saveAddress:function(){var t=this;this.nowAddressData.addOptions=this.addOptions,this.axios.post("user/saveaddress",this.nowAddressData).then((function(a){0===a.data.errno?(t.$message({type:"success",message:"修改成功!"}),t.addressData=[],t.getAddress(),t.dialogAddressVisible=!1):t.$message({type:"error",message:"修改失败"})}))},addressEdit:function(t){this.nowAddressData=t,this.addOptions.push(t.province_id,t.city_id,t.district_id),this.dialogAddressVisible=!0},viewDetail:function(t){this.$router.push({name:"order_detail",query:{order_sn:t}})},handleClick:function(t,a){var e=t._data.index;this.page=1,this.total=0,0==e?(this.pIndex=0,this.getOrder()):1==e?(this.pIndex=1,this.getAddress()):2==e?(this.pIndex=2,this.getCartData()):3==e&&(this.pIndex=3,this.getFootData())},submitNick:function(t,a){this.axios.post("user/updateInfo",{id:a.id,nickname:a.nickname}).then((function(t){}))},submitName:function(t,a){var e=this;this.axios.post("user/updateName",{id:a.id,name:a.name}).then((function(t){0===t.data.errno?e.$message({type:"success",message:"修改成功!"}):e.$message({type:"error",message:"修改失败"})}))},submitMobile:function(t,a){var e=this;this.axios.post("user/updateMobile",{id:a.id,mobile:a.mobile}).then((function(t){0===t.data.errno?e.$message({type:"success",message:"修改成功!"}):e.$message({type:"error",message:"修改失败"})}))},handlePageChange:function(t){this.page=t,localStorage.setItem("thisPage",this.page);var a=this.pIndex;0==a?this.getOrder():1==a?this.getAddress():2==a?this.getCartData():3==a&&this.getFootData()},goBackPage:function(){this.$router.go(-1)},datainfo:function(){var t=this;if(this.infoForm.id<=0)return!1;var a=this;this.axios.get("user/datainfo",{params:{id:a.infoForm.id}}).then((function(a){var e=a.data.data;t.dataInfo=e}))},getInfo:function(){var t=this;if(this.infoForm.id<=0)return!1;var a=this;this.axios.get("user/info",{params:{id:a.infoForm.id}}).then((function(a){var e=a.data.data;t.userData.push(e)}))},getOrder:function(){var t=this;if(this.infoForm.id<=0)return!1;var a=this;this.axios.get("user/order",{params:{id:a.infoForm.id,page:this.page}}).then((function(a){t.orderData=a.data.data.data,t.page=a.data.data.currentPage,t.total=a.data.data.count}))},getAddress:function(){var t=this;if(this.infoForm.id<=0)return!1;var a=this;this.axios.get("user/address",{params:{id:a.infoForm.id,page:this.page}}).then((function(a){t.addressData=a.data.data.data,t.page=a.data.data.currentPage,t.total=a.data.data.count}))},getCartData:function(){var t=this;if(this.infoForm.id<=0)return!1;var a=this;this.axios.get("user/cartdata",{params:{id:a.infoForm.id,page:this.page}}).then((function(a){t.cartData=a.data.data.data,t.page=a.data.data.currentPage,t.total=a.data.data.count}))},getFootData:function(){var t=this;if(this.infoForm.id<=0)return!1;var a=this;this.axios.get("user/foot",{params:{id:a.infoForm.id,page:this.page}}).then((function(a){t.footData=a.data.data.data,t.page=a.data.data.currentPage,t.total=a.data.data.count}))},getAllRegion:function(){var t=this;this.axios.get("order/getAllRegion").then((function(a){t.options=a.data.data}))}},components:{},mounted:function(){this.infoForm.id=this.$route.query.id||0,this.getInfo(),this.getOrder(),this.datainfo(),this.getAllRegion(),this.loginInfo||(this.loginInfo=JSON.parse(window.localStorage.getItem("userInfo")||null))}}),o=r,l=(e("d985"),e("2877")),n=Object(l["a"])(o,s,i,!1,null,null,null);a["default"]=n.exports},"3a34":function(t,a,e){"use strict";var s=e("83ab"),i=e("e8b5"),r=TypeError,o=Object.getOwnPropertyDescriptor,l=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=l?function(t,a){if(i(t)&&!o(t,"length").writable)throw r("Cannot set read only .length");return t.length=a}:function(t,a){return t.length=a}},"461e":function(t,a,e){},d985:function(t,a,e){"use strict";e("461e")}}]);